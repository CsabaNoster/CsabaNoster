---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection, type CollectionEntry } from 'astro:content';
import Card from '../components/Card.astro';
const entries = await getCollection('reviews', (e: CollectionEntry<'reviews'>) => e.data.published !== false);
---
<BaseLayout title="Book Reviews" description="Book reviews">
  <div class="hero-blade">
    <h1 class="hero-title !mt-0">Book Reviews</h1>
    <p class="hero-sub">Notes on books with a scientific and philosophical bent</p>
  </div>
  <div class="cards-window mt-3">
    <ul class="grid gap-6 md:grid-cols-2">
      {entries.map((e: CollectionEntry<'reviews'>) => (
        <li>
          <Card href={`/reviews/${e.slug}/`} title={e.data.title} summary={e.data.summary} subtitle={e.data.author} badge="reviews" metaRight={(e.data.date as Date).toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' })} />
        </li>
      ))}
    </ul>
  </div>
</BaseLayout>
